<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>English Sentence Puzzle | 中学生向け英語並べ替え</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="hero">
    <div class="hero__content">
      <p class="hero__tag">英語の語順を身につけよう</p>
      <h1>English Sentence Puzzle</h1>
    </div>
  </header>

  <main class="container">
    <section class="card home" aria-labelledby="home-title" id="home-screen">
      <div class="card__header">
        <div>
          <h2 id="home-title">出題範囲を選択</h2>
        </div>
      </div>
      <div class="level-select">
        <div class="filter-group" aria-label="学年選択">
          <p class="filter-group__title">学年選択</p>
          <div class="filter-group__options" id="grade-filters">
            <label class="filter-option"><input type="checkbox" value="中1"><span>中1</span></label>
            <label class="filter-option"><input type="checkbox" value="中2"><span>中2</span></label>
            <label class="filter-option"><input type="checkbox" value="中3"><span>中3</span></label>
          </div>
        </div>
        <div class="filter-group" aria-label="文法項目選択">
          <p class="filter-group__title">文法項目選択</p>
          <div class="filter-group__options" id="grammar-filters">
            <label class="filter-option"><input type="checkbox" value="be動詞"><span>be動詞</span></label>
            <label class="filter-option"><input type="checkbox" value="一般動詞（現在形）"><span>一般動詞（現在形）</span></label>
            <label class="filter-option"><input type="checkbox" value="三人称単数現在"><span>三人称単数現在</span></label>
            <label class="filter-option"><input type="checkbox" value="現在進行形"><span>現在進行形</span></label>
            <label class="filter-option"><input type="checkbox" value="There is / There are"><span>There is / There are</span></label>
            <label class="filter-option"><input type="checkbox" value="命令文"><span>命令文</span></label>
            <label class="filter-option"><input type="checkbox" value="疑問詞"><span>疑問詞</span></label>
            <label class="filter-option"><input type="checkbox" value="過去形"><span>過去形</span></label>
            <label class="filter-option"><input type="checkbox" value="過去進行形"><span>過去進行形</span></label>
            <label class="filter-option"><input type="checkbox" value="未来表現"><span>未来表現</span></label>
            <label class="filter-option"><input type="checkbox" value="接続詞"><span>接続詞</span></label>
            <label class="filter-option"><input type="checkbox" value="比較級"><span>比較級</span></label>
            <label class="filter-option"><input type="checkbox" value="最上級"><span>最上級</span></label>
            <label class="filter-option"><input type="checkbox" value="受動態"><span>受動態</span></label>
            <label class="filter-option"><input type="checkbox" value="現在完了形"><span>現在完了形</span></label>
            <label class="filter-option"><input type="checkbox" value="関係代名詞（主格）"><span>関係代名詞（主格）</span></label>
            <label class="filter-option"><input type="checkbox" value="間接疑問文"><span>間接疑問文</span></label>
            <label class="filter-option"><input type="checkbox" value="仮定法"><span>仮定法</span></label>
            <label class="filter-option"><input type="checkbox" value="現在完了進行形"><span>現在完了進行形</span></label>
            <label class="filter-option"><input type="checkbox" value="関係代名詞（目的格）"><span>関係代名詞（目的格）</span></label>
            <label class="filter-option"><input type="checkbox" value="関係代名詞（所有格）"><span>関係代名詞（所有格）</span></label>
            <label class="filter-option"><input type="checkbox" value="仮定法（過去完了）"><span>仮定法（過去完了）</span></label>
          </div>
        </div>
        <div class="filter-group" aria-label="難易度選択">
          <p class="filter-group__title">難易度</p>
          <div class="filter-group__options" id="level-filters">
            <label class="filter-option"><input type="checkbox" value="1"><span>レベル1</span></label>
            <label class="filter-option"><input type="checkbox" value="2"><span>レベル2</span></label>
            <label class="filter-option"><input type="checkbox" value="3"><span>レベル3</span></label>
          </div>
        </div>
        <div class="level-progress" id="level-progress">正解達成率: <strong>0%</strong></div>
      </div>
      <div class="home-actions">
        <button class="button" id="start-set-btn" type="button">10問を始める</button>
        <button class="button button--ghost" id="reset-stats-btn" type="button">記録をリセット</button>
        <button class="button button--ghost" id="toggle-wrong-only-btn" type="button">間違い問題モード: OFF</button>
        <button class="button button--ghost" id="toggle-progress-btn" type="button">達成状況表示</button>
      </div>
      <p class="home-status" id="home-status" role="status">準備OK！10問1セットに挑戦しよう。</p>
      <section class="progress-panel" id="progress-panel" hidden>
        <div class="progress-panel__header">
          <h3>達成状況（正解率）</h3>
          <p class="progress-panel__hint">各レベル×学年×文法項目ごとの正解率を表示します。</p>
        </div>
        <div class="progress-panel__tables" id="progress-tables"></div>
      </section>
      <section class="data-panel" aria-label="学習データの保存と引き継ぎ">
        <div class="data-panel__header">
          <h3>学習データの保存・引き継ぎ</h3>
          <p class="data-panel__hint">この端末の学習記録を保存したり、別端末から読み込めます。</p>
        </div>
        <div class="data-panel__actions">
          <button class="button button--ghost" id="export-stats-btn" type="button">学習データを保存</button>
          <label class="button button--ghost" for="import-stats-input">学習データを読み込む</label>
          <input id="import-stats-input" type="file" accept="application/json" hidden>
        </div>
        <p class="data-panel__note">JSONファイルとして保存されます。</p>
      </section>
    </section>

    <section class="card" aria-labelledby="lesson-title" id="quiz-screen" hidden>
      <div class="card__header">
        <div></div>
      </div>

      <div class="prompt">
        <span class="prompt__label">問題</span>
        <p class="prompt__text" id="japanese-hint">わたしは毎日バスで学校に行きます。</p>
      </div>

      <div class="prompt prompt--answer" id="answer-example" hidden>
        <span class="prompt__label">正解例</span>
        <div class="slots slots--answer" id="answer-slots" aria-label="正解例スロット"></div>
      </div>

      <div class="answer-area" aria-live="polite">
        <h3>解答</h3>
        <p class="answer-area__guide">単語を正しい場所に置こう。</p>
        <div class="slots" id="slots" aria-label="空欄スロット"></div>
        <div class="answer-actions">
          <button class="button" id="check-btn" type="button">答え合わせ</button>
          <button class="button button--ghost" id="reset-btn" type="button">リセット</button>
          <button class="button button--ghost" id="next-btn" type="button" hidden>次の問題へ</button>
        </div>
        <p class="feedback" id="feedback" role="status"></p>
      </div>

      <div class="word-bank" aria-label="単語ピース">
        <h3>単語ピース</h3>
        <div class="word-bank__list" id="word-bank"></div>
      </div>

      <div class="progress" aria-label="進み具合">
        <span id="progress-text">1 / 4 問目</span>
        <div class="progress__bar">
          <div class="progress__value" id="progress-value"></div>
        </div>
      </div>

      <div class="set-summary" id="set-summary" hidden>
        <h3>10問セットの結果</h3>
        <p class="set-summary__score" id="set-score"></p>
        <p class="set-summary__message" id="set-message"></p>
        <button class="button" id="set-next-btn" type="button">次の10問</button>
      </div>

      <div class="quiz-footer">
        <button class="button button--ghost" id="home-btn" type="button">ホームへ戻る</button>
      </div>

    </section>

  </main>

  <footer class="footer">
    <p>© 2025 English Sentence Puzzle. 英語の語順を楽しく学ぼう。</p>
  </footer>

  <div class="confetti" id="confetti" aria-hidden="true"></div>

  <script src="app.js"></script>
</body>
</html>
